{
	"info": {
		"_postman_id": "0a1f9df9-3cae-4d15-b345-51fea5d6b51e",
		"name": "Magento Connect User",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "getUser",
			"item": [
				{
					"name": "guest",
					"item": [
						{
							"name": "customerLogout",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_logout}}",
									"host": [
										"{{domain}}{{endpoint_user_logout}}"
									]
								},
								"description": "customerLogout"
							},
							"response": []
						},
						{
							"name": "getUser",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7620acbb-fe55-4c0f-9c8a-1510e5a81aab",
										"type": "text/javascript",
										"exec": [
											"var jsonData = pm.response.json();",
											"pm.test(\"User not logged in error, cannot retrieve data\", function () {",
											"    pm.expect(jsonData.error.code).to.be.eq('EACCESS');",
											"})"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_get}}",
									"host": [
										"{{domain}}{{endpoint_user_get}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "customer",
					"item": [
						{
							"name": "customerLogin",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"strategy\": \"basic\",\n    \"parameters\": {\n        \"login\": \"{{username}}\",\n        \"password\": \"{{password}}\"\n    }\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_login}}",
									"host": [
										"{{domain}}{{endpoint_user_login}}"
									]
								},
								"description": "customerLogin"
							},
							"response": []
						},
						{
							"name": "getUser",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d030dc6d-ea45-46d8-8180-875a75eb20e9",
										"type": "text/javascript",
										"exec": [
											"const response = pm.response.json();",
											"const user = response;",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"})",
											"pm.test(\"Test if response is okay, with body and json\", function () {",
											"    pm.response.to.be.ok,",
											"    pm.response.to.be.with.body,",
											"    pm.response.to.be.json",
											"})",
											"",
											"pm.test(\"Make sure all required user data was properly set\", function() {",
											"    pm.expect(user.id).to.not.be.empty;",
											"    pm.expect(user.id).to.be.a('string', 'ID - not a string provided!');",
											"    pm.expect(user.mail).to.not.be.empty;",
											"    pm.expect(user.mail).to.be.a('string', 'Mail - not a string provided!');",
											"});",
											"",
											"pm.test(\"Make sure all optional string based user data was properly set in the right format\", function() {",
											"    const generalKeys = [",
											"        'firstName',",
											"        'lastName'",
											"        ];",
											"    generalKeys.map(function(item) {",
											"        if (user[item]) {",
											"            pm.expect(user[item]).to.be.a('string', item + ' - Not a string provided!');",
											"        }",
											"    });",
											"});",
											"",
											"pm.test(\"Make sure all optional array based user data was properly set in the right format\", function() {",
											"    const generalKeys = [",
											"        'userGroups'",
											"        ];",
											"    generalKeys.map(function(item) {",
											"        if (user[item]) {",
											"            pm.expect(user[item]).to.be.a('array', item + ' - Not a string provided!');",
											"        }",
											"    });",
											"});",
											"",
											"pm.test(\"Make sure all optional object based user data was properly set in the right format\", function() {",
											"    const generalKeys = [",
											"        'customAttributes'",
											"        ];",
											"    generalKeys.map(function(item) {",
											"        if (user[item]) {",
											"            pm.expect(user[item]).to.be.a('object', item + ' - Not a string provided!');",
											"        }",
											"    });",
											"});",
											"",
											"pm.test(\"Make sure that user Groups is set has an property id and name with the right string based value\", function() {",
											"    if (user.userGroups) {",
											"        const testUserGroup = user.userGroups.pop();",
											"        pm.expect(testUserGroup).to.have.property('id');",
											"        pm.expect(testUserGroup).to.have.property('name');",
											"        pm.expect(testUserGroup.id).to.be.a('string', 'ID - not a string provided!');",
											"        pm.expect(testUserGroup.name).to.be.a('string', 'Name - not a string provided!');",
											"    }",
											"})"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_get}}",
									"host": [
										"{{domain}}{{endpoint_user_get}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "getAddresses",
			"item": [
				{
					"name": "guest",
					"item": [
						{
							"name": "customerLogout",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_logout}}",
									"host": [
										"{{domain}}{{endpoint_user_logout}}"
									]
								},
								"description": "customerLogout"
							},
							"response": []
						},
						{
							"name": "getAddresses",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a413685b-7d1f-428c-b1af-6e17c1330912",
										"type": "text/javascript",
										"exec": [
											"var jsonData = pm.response.json();",
											"pm.test(\"User not logged in error, cannot retrieve data\", function () {",
											"    pm.expect(jsonData.error.code).to.be.eq('EACCESS');",
											"})"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_addresses_get}}",
									"host": [
										"{{domain}}{{endpoint_user_addresses_get}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "customer",
					"item": [
						{
							"name": "customerLogin",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"strategy\": \"basic\",\n    \"parameters\": {\n        \"login\": \"{{username}}\",\n        \"password\": \"{{password}}\"\n    }\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_login}}",
									"host": [
										"{{domain}}{{endpoint_user_login}}"
									]
								},
								"description": "customerLogin"
							},
							"response": []
						},
						{
							"name": "getAddresses",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1c6c0028-f9fd-4052-bc16-fabe0357a5cf",
										"type": "text/javascript",
										"exec": [
											"const response = pm.response.json();",
											"const address = response.addresses.pop();",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"})",
											"pm.test(\"Test if response is okay, with body and json\", function () {",
											"    pm.response.to.be.ok,",
											"    pm.response.to.be.with.body,",
											"    pm.response.to.be.json",
											"})",
											"",
											"pm.test(\"Make sure all required address data was properly set\", function() {",
											"    pm.expect(address.id).to.not.be.empty",
											"    pm.expect(address.id).to.be.a('string', 'Not a string provided!')",
											"})",
											"",
											"pm.test(\"Make sure all optional address data was properly set in the right format\", function() {",
											"    const generalKeys = [",
											"        'firstName',",
											"        'lastName',",
											"        'street1',",
											"        'street2',",
											"        'zipCode',",
											"        'city',",
											"        'province',",
											"        'country'",
											"        ]",
											"    generalKeys.map(function(item) {",
											"        if (address[item]) {",
											"            pm.expect(address[item]).to.be.a('string', item + ' - Not a string provided!')",
											"        }",
											"    })",
											"})",
											"",
											"pm.test(\"Make sure that tags are an array\", function() {",
											"    pm.expect(address.tags).to.be.a('array', 'Not a array provided!')",
											"})",
											"",
											"pm.test(\"Make sure that if customAttributes set, customAttributes are an object\", function() {",
											"    if (address.customAttributes) {",
											"        pm.expect(address.customAttributes).to.be.a('object', 'Not a object provided!')",
											"    }",
											"})"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_addresses_get}}",
									"host": [
										"{{domain}}{{endpoint_user_addresses_get}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "addAddresses",
			"item": [
				{
					"name": "guest",
					"item": [
						{
							"name": "customerLogout",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_logout}}",
									"host": [
										"{{domain}}{{endpoint_user_logout}}"
									]
								},
								"description": "customerLogout"
							},
							"response": []
						},
						{
							"name": "createAddress",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bc38f512-4152-4e41-8265-1247bc71ab14",
										"type": "text/javascript",
										"exec": [
											"var jsonData = pm.response.json();",
											"pm.test(\"User not logged in error, cannot create address\", function () {",
											"    pm.expect(jsonData.error.code).to.be.eq('EACCESS');",
											"})"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5dd4dec7-788a-4a91-aa70-86c077c80f47",
										"type": "text/javascript",
										"exec": [
											"// Create a seed to have a randomized data set",
											"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [\n        \t\"default_shipping\"\n        ],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_address_add}}",
									"host": [
										"{{domain}}{{endpoint_user_address_add}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "customer",
					"item": [
						{
							"name": "Preparation",
							"item": [
								{
									"name": "customerLogout",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_logout}}",
											"host": [
												"{{domain}}{{endpoint_user_logout}}"
											]
										},
										"description": "customerLogout"
									},
									"response": []
								},
								{
									"name": "customerLogin",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"strategy\": \"basic\",\n    \"parameters\": {\n        \"login\": \"{{username}}\",\n        \"password\": \"{{password}}\"\n    }\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_login}}",
											"host": [
												"{{domain}}{{endpoint_user_login}}"
											]
										},
										"description": "customerLogin"
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "Errors",
							"item": [
								{
									"name": "Required fields not set",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "656c101a-71c9-43dd-82d6-a3272474c25f",
												"type": "text/javascript",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.test('Required data not set, should return EVALIDATION error', function () {",
													"    pm.expect(jsonData.error.code).to.be.eq('EVALIDATION');",
													"    pm.expect(jsonData.error.validationErrors).to.be.a('array').to.not.be.empty;",
													"    pm.expect(jsonData.error.validationErrors.length).to.be.eq(7);",
													"})"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"\",\n        \"lastName\": \"\",\n        \"street1\": \"\",\n        \"street2\": \"\",\n        \"city\": \"\",\n        \"zipCode\": \"\",\n        \"country\": \"\",\n        \"province\":\"\",\n        \"customAttributes\": {\n        \t\"company\": \"\",\n        \t\"telephone\": \"\",\n        \t\"fax\": \"\",\n        \t\"vat_id\": \"\",\n        \t\"suffix\": \"\",\n        \t\"prefix\": \"\",\n        \t\"middlename\": \"\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d5574bf6-ff64-40af-9f45-cdff9e56b000",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "90123661-725d-42d7-b44c-7113ef93e4d6",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "Simple",
							"item": [
								{
									"name": "create Address",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "getAddress and compare",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dc5a380a-de75-487f-ab7f-a679f2a69148",
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})",
													"",
													"pm.test(\"Make sure that if tags set, tags are an array\", function() {",
													"    const response = pm.response.json();",
													"    const address = response.addresses.pop();",
													"    if (address.tags) {",
													"        pm.expect(address.tags).to.be.a('array', 'Not a array provided!')",
													"    }",
													"})",
													"",
													"pm.test(\"Make sure that if customAttributes set, customAttributes are an object\", function() {",
													"    const response = pm.response.json();",
													"    const address = response.addresses.pop();",
													"    if (address.customAttributes) {",
													"        pm.expect(address.customAttributes).to.be.a('object', 'Not a object provided!')",
													"    }",
													"})",
													"",
													"pm.test(\"Make sure all address data was properly set\", function() {",
													"    const response = pm.response.json();",
													"    const address = response.addresses.pop();",
													"    pm.expect(address.firstName).to.be.eq(pm.environment.get(\"seed\") + '-firstname');",
													"    pm.expect(address.lastName).to.be.eq(pm.environment.get(\"seed\") + '-lastname');",
													"    pm.expect(address.street1).to.be.eq(pm.environment.get(\"seed\") + '-street1');",
													"    pm.expect(address.street2).to.be.eq(pm.environment.get(\"seed\") + '-street2');",
													"    pm.expect(address.city).to.be.eq(pm.environment.get(\"seed\") + '-city');",
													"    pm.expect(address.zipCode).to.be.eq(pm.environment.get(\"seed\") + '-zipCode');",
													"    pm.expect(address.country).to.be.eq('US');",
													"    pm.expect(address.province).to.be.eq('AZ');",
													"    pm.expect(address.tags).to.be.a('array').to.be.empty;",
													"    pm.expect(address.customAttributes).to.be.a('object').to.not.be.empty;",
													"    pm.expect(address.customAttributes.company).to.be.eq(pm.environment.get(\"seed\") + '-company');",
													"    pm.expect(address.customAttributes.telephone).to.be.eq(pm.environment.get(\"seed\") + '-telephone');",
													"    pm.expect(address.customAttributes.fax).to.be.eq(pm.environment.get(\"seed\") + '-fax');",
													"    pm.expect(address.customAttributes.vat_id).to.be.eq(pm.environment.get(\"seed\") + '-vat_id');",
													"    if (address.customAttributes.hasOwnProperty(\"middlename\")) {",
													"        pm.expect(address.customAttributes.middlename).to.be.eq(pm.environment.get(\"seed\") + '-middlename');",
													"    }",
													"    if (address.customAttributes.hasOwnProperty(\"prefix\")) {",
													"        pm.expect(address.customAttributes.prefix).to.be.eq(pm.environment.get(\"seed\") + '-prefix');",
													"    }",
													"    if (address.customAttributes.hasOwnProperty(\"suffix\")) {",
													"        pm.expect(address.customAttributes.suffix).to.be.eq(pm.environment.get(\"seed\") + '-suffix');",
													"    }",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "Default",
							"item": [
								{
									"name": "create default billing",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [\n        \t\"default_billing\"\n        ],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "check for default billing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "612eb3db-148a-4b20-a73f-1b93a8d9f78b",
												"type": "text/javascript",
												"exec": [
													"const response = pm.response.json();",
													"const address = response.addresses.pop();",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})",
													"",
													"pm.test(\"Make sure that default billing tag is set\", function() {",
													"    ",
													"    if (address.tags) {",
													"        pm.expect(address.tags).to.include('default_billing')",
													"    }",
													"})"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "create default shipping",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [\n        \t\"default_shipping\"\n        ],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "check default shipping",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f87fc0c9-a214-4a4a-81b9-9377c96fd58b",
												"type": "text/javascript",
												"exec": [
													"const response = pm.response.json();",
													"const address = response.addresses.pop();",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})",
													"",
													"pm.test(\"Make sure that default billing tag is set\", function() {",
													"    ",
													"    if (address.tags) {",
													"        pm.expect(address.tags).to.include('default_shipping')",
													"    }",
													"})"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "create default shipping+billing",
									"event": [
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [\n        \t\"default_shipping\",\n        \t\"default_billing\"\n        ],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "check default address",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8cc9b29c-ca14-4bbd-a226-45151b3f4a3c",
												"type": "text/javascript",
												"exec": [
													"const response = pm.response.json();",
													"const address = response.addresses.pop();",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})",
													"",
													"pm.test(\"Make sure that default billing tag is set\", function() {",
													"    ",
													"    if (address.tags) {",
													"        pm.expect(address.tags).to.include('default_shipping')",
													"        pm.expect(address.tags).to.include('default_billing')",
													"    }",
													"})"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "updateAddress",
			"item": [
				{
					"name": "guest",
					"item": [
						{
							"name": "customerLogout",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_logout}}",
									"host": [
										"{{domain}}{{endpoint_user_logout}}"
									]
								},
								"description": "customerLogout"
							},
							"response": []
						},
						{
							"name": "updateAddress",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e019dbcd-fea7-430f-b2e5-cd2005d668ba",
										"type": "text/javascript",
										"exec": [
											"var jsonData = pm.response.json();",
											"pm.test(\"User not logged in error, cannot update address\", function () {",
											"    pm.expect(jsonData.error.code).to.be.eq('EACCESS');",
											"})"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5dd4dec7-788a-4a91-aa70-86c077c80f47",
										"type": "text/javascript",
										"exec": [
											"// Create a seed to have a randomized data set",
											"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"id\": \"1\",\n    \"firstName\": \"firstname\",\n    \"lastName\": \"lastname\",\n    \"street1\": \"street1\",\n    \"street2\": \"street2\",\n    \"city\": \"city\",\n    \"zipCode\": \"zipCode\",\n    \"country\": \"EE\",\n    \"province\":\"province\",\n    \"customAttributes\": {\n        \"company\": \"company\",\n        \"telephone\": \"telephone\"\n    }\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_address_update}}",
									"host": [
										"{{domain}}{{endpoint_user_address_update}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "customer",
					"item": [
						{
							"name": "Preparation",
							"item": [
								{
									"name": "customerLogout",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_logout}}",
											"host": [
												"{{domain}}{{endpoint_user_logout}}"
											]
										},
										"description": "customerLogout"
									},
									"response": []
								},
								{
									"name": "customerLogin",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"strategy\": \"basic\",\n    \"parameters\": {\n        \"login\": \"{{username}}\",\n        \"password\": \"{{password}}\"\n    }\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_login}}",
											"host": [
												"{{domain}}{{endpoint_user_login}}"
											]
										},
										"description": "customerLogin"
									},
									"response": []
								},
								{
									"name": "create address",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bc5fc2e8-4abd-4b29-b092-4579cf8425bd",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d63a3d6a-e982-4bec-ba51-057d472f1a1b",
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "fetch address Id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ba0deede-6e55-40d8-8a50-65c736977780",
												"type": "text/javascript",
												"exec": [
													"const response = pm.response.json();",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"const address = response.addresses.pop();",
													"pm.environment.set(\"updateAddressId\", address.id);",
													""
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "Errors",
							"item": [
								{
									"name": "bad country name",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "38cf687e-9a7d-4066-8c05-b981098cd3ef",
												"type": "text/javascript",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.test(\"Code is EVALIDATION because the address is duplicate\", function () {",
													"    pm.expect(jsonData.error.code).to.eql('EVALIDATION');",
													"});",
													"",
													"pm.test(\"Incorrect validation error structure\", function () {",
													"    pm.expect(jsonData.error.validationErrors.length).to.be.gte(1);",
													"    jsonData.error.validationErrors.forEach((error) => {",
													"        pm.expect(error.path).to.not.be.empty;",
													"        pm.expect(error.message).to.not.be.empty;",
													"    });",
													"});",
													"",
													"pm.test(\"Correct country error is shown\", function () {",
													"    pm.expect(jsonData.error.validationErrors[0].path).to.be.eq('country');",
													"});"
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "99ab1c7c-2b5b-463f-8f16-b3cb23a02748",
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\": \"{{updateAddressId}}\",\n    \"country\": \"TESTER\"\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_update}}",
											"host": [
												"{{domain}}{{endpoint_user_address_update}}"
											]
										}
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "update all fields",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bff324a6-6224-4a29-b826-09c0fc8aa1a4",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Address successfully updated\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.success).to.eql(true);",
											"});"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f690a69f-a8f8-4958-a885-ceb326e6935d",
										"type": "text/javascript",
										"exec": [
											"// Create a seed to have a randomized data set",
											"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"id\": \"{{updateAddressId}}\",\n    \"firstName\": \"{{seed}}-firstname\",\n    \"lastName\": \"{{seed}}-lastname\",\n    \"street1\": \"{{seed}}-street1\",\n    \"street2\": \"{{seed}}-street2\",\n    \"city\": \"{{seed}}-city\",\n    \"zipCode\": \"{{seed}}-zipCode\",\n    \"country\": \"US\",\n    \"province\":\"TX\",\n    \"customAttributes\": {\n        \"company\": \"{{seed}}-company\",\n        \"telephone\": \"{{seed}}-telephone\",\n        \"middlename\": \"{{seed}}-middlename\",\n        \"fax\": \"{{seed}}-fax\",\n        \"vat_id\": \"{{seed}}-vat_id\"\n    }\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_address_update}}",
									"host": [
										"{{domain}}{{endpoint_user_address_update}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "check updated fields",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4f78e519-a47d-47d6-93c6-e8a1eb8671bc",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Make sure all address data was properly changed\", function() {",
											"    const response = pm.response.json();",
											"    const address = response.addresses.filter(address => address.id === pm.environment.get(\"updateAddressId\")).pop();",
											"    pm.expect(address.firstName).to.be.eq(pm.environment.get(\"seed\") + '-firstname');",
											"    pm.expect(address.lastName).to.be.eq(pm.environment.get(\"seed\") + '-lastname');",
											"    pm.expect(address.street1).to.be.eq(pm.environment.get(\"seed\") + '-street1');",
											"    pm.expect(address.street2).to.be.eq(pm.environment.get(\"seed\") + '-street2');",
											"    pm.expect(address.city).to.be.eq(pm.environment.get(\"seed\") + '-city');",
											"    pm.expect(address.zipCode).to.be.eq(pm.environment.get(\"seed\") + '-zipCode');",
											"    pm.expect(address.country).to.be.eq('US');",
											"    pm.expect(address.province).to.be.eq('TX');",
											"    pm.expect(address.tags).to.be.a('array').to.be.empty;",
											"    pm.expect(address.customAttributes).to.be.a('object').to.not.be.empty;",
											"    pm.expect(address.customAttributes.company).to.be.eq(pm.environment.get(\"seed\") + '-company');",
											"    pm.expect(address.customAttributes.telephone).to.be.eq(pm.environment.get(\"seed\") + '-telephone');",
											"    pm.expect(address.customAttributes.fax).to.be.eq(pm.environment.get(\"seed\") + '-fax');",
											"    pm.expect(address.customAttributes.vat_id).to.be.eq(pm.environment.get(\"seed\") + '-vat_id');",
											"    if (address.customAttributes.hasOwnProperty(\"middlename\")) {",
											"        pm.expect(address.customAttributes.middlename).to.be.eq(pm.environment.get(\"seed\") + '-middlename');",
											"    }",
											"    if (address.customAttributes.hasOwnProperty(\"prefix\")) {",
											"        pm.expect(address.customAttributes.prefix).to.be.eq(pm.environment.get(\"seed\") + '-prefix');",
											"    }",
											"    if (address.customAttributes.hasOwnProperty(\"suffix\")) {",
											"        pm.expect(address.customAttributes.suffix).to.be.eq(pm.environment.get(\"seed\") + '-suffix');",
											"    }",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_addresses_get}}",
									"host": [
										"{{domain}}{{endpoint_user_addresses_get}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "update default billing",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0f5696e0-eed6-4a74-997c-43f6425af1b8",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Address successfully updated\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.success).to.eql(true);",
											"});"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f690a69f-a8f8-4958-a885-ceb326e6935d",
										"type": "text/javascript",
										"exec": [
											"// Create a seed to have a randomized data set",
											"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"id\": \"{{updateAddressId}}\",\n\t\"country\": \"US\",\n\t\"province\": \"AZ\",\n    \"tags\": [\n        \"default_billing\"\n    ]\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_address_update}}",
									"host": [
										"{{domain}}{{endpoint_user_address_update}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "check default billing",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2a251f37-3e9b-4aa5-8dda-b08622cd61ff",
										"type": "text/javascript",
										"exec": [
											"const response = pm.response.json();",
											"const defaultAddress = response.addresses.filter(address => address.tags.includes(\"default_billing\")).pop();",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Make sure that default billing was updated\", function() {",
											"    pm.expect(defaultAddress.id).to.eql(pm.environment.get(\"updateAddressId\"));",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_addresses_get}}",
									"host": [
										"{{domain}}{{endpoint_user_addresses_get}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "deleteAddresses",
			"item": [
				{
					"name": "guest",
					"item": [
						{
							"name": "customerLogout",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_logout}}",
									"host": [
										"{{domain}}{{endpoint_user_logout}}"
									]
								},
								"description": "customerLogout"
							},
							"response": []
						},
						{
							"name": "deleteAddress",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bc38f512-4152-4e41-8265-1247bc71ab14",
										"type": "text/javascript",
										"exec": [
											"var jsonData = pm.response.json();",
											"pm.test(\"User not logged in error, cannot create address\", function () {",
											"    pm.expect(jsonData.error.code).to.be.eq('EACCESS');",
											"})"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5dd4dec7-788a-4a91-aa70-86c077c80f47",
										"type": "text/javascript",
										"exec": [
											"// Create a seed to have a randomized data set",
											"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"ids\": {\n\t}\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_addresses_delete}}",
									"host": [
										"{{domain}}{{endpoint_user_addresses_delete}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "customer",
					"item": [
						{
							"name": "Preparation",
							"item": [
								{
									"name": "customerLogout",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_logout}}",
											"host": [
												"{{domain}}{{endpoint_user_logout}}"
											]
										},
										"description": "customerLogout"
									},
									"response": []
								},
								{
									"name": "customerLogin",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"strategy\": \"basic\",\n    \"parameters\": {\n        \"login\": \"{{username}}\",\n        \"password\": \"{{password}}\"\n    }\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_login}}",
											"host": [
												"{{domain}}{{endpoint_user_login}}"
											]
										},
										"description": "customerLogin"
									},
									"response": []
								},
								{
									"name": "create default shipping",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bc5fc2e8-4abd-4b29-b092-4579cf8425bd",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d63a3d6a-e982-4bec-ba51-057d472f1a1b",
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [\n        \t\"default_shipping\"\n        ],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "fetch default address Id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "df2147f6-47c8-4d87-b9e9-9c3001472804",
												"type": "text/javascript",
												"exec": [
													"const response = pm.response.json();",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})",
													"",
													"const defaultAddress = response.addresses.filter(address => address.tags.includes(\"default_shipping\")).pop();",
													"pm.environment.set(\"defaultAddressId\", defaultAddress.id);",
													""
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "create 1st address",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bc5fc2e8-4abd-4b29-b092-4579cf8425bd",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d63a3d6a-e982-4bec-ba51-057d472f1a1b",
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "fetch address Id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5e97c9d8-cb59-4a5c-8f79-5a935015ab81",
												"type": "text/javascript",
												"exec": [
													"const response = pm.response.json();",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})",
													"",
													"const address = response.addresses.pop();",
													"pm.environment.set(\"firstAddressId\", address.id);",
													""
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "create 2nd address",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bc5fc2e8-4abd-4b29-b092-4579cf8425bd",
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "d63a3d6a-e982-4bec-ba51-057d472f1a1b",
												"type": "text/javascript",
												"exec": [
													"// Create a seed to have a randomized data set",
													"pm.environment.set(\"seed\", \"address-\" + Math.floor(Math.random() * Math.floor(1000)));"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"address\": {\n\t\t\"firstName\": \"{{seed}}-firstname\",\n        \"lastName\": \"{{seed}}-lastname\",\n        \"street1\": \"{{seed}}-street1\",\n        \"street2\": \"{{seed}}-street2\",\n        \"city\": \"{{seed}}-city\",\n        \"zipCode\": \"{{seed}}-zipCode\",\n        \"country\": \"US\",\n        \"province\":\"AZ\",\n        \"tags\": [],\n        \"customAttributes\": {\n        \t\"company\": \"{{seed}}-company\",\n        \t\"telephone\": \"{{seed}}-telephone\",\n        \t\"fax\": \"{{seed}}-fax\",\n        \t\"vat_id\": \"{{seed}}-vat_id\",\n        \t\"suffix\": \"{{seed}}-suffix\",\n        \t\"prefix\": \"{{seed}}-prefix\",\n        \t\"middlename\": \"{{seed}}-middlename\"\n        }\n\t}\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_address_add}}",
											"host": [
												"{{domain}}{{endpoint_user_address_add}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "fetch address id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "32a71652-fb4a-42f3-b36d-d6cbe50121e0",
												"type": "text/javascript",
												"exec": [
													"const response = pm.response.json();",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"})",
													"",
													"const address = response.addresses.pop();",
													"pm.environment.set(\"secondAddressId\", address.id);",
													""
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_get}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_get}}"
											]
										}
									},
									"response": []
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "Errors",
							"item": [
								{
									"name": "Delete default address",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fb4f0a42-a78e-4212-bb58-a5c07bd0eecf",
												"type": "text/javascript",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.test('Code is EMAGENTOENDPOINTNOTALLOWED (405) because the address is default', function () {",
													"    pm.expect(jsonData.error.code).to.eql('EMAGENTOENDPOINTNOTALLOWED');",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"ids\": [\n\t\t{{defaultAddressId}}\n\t]\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_delete}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_delete}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "No address ids given",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "36a7b895-7a66-44f5-81d3-ecc913e99f8d",
												"type": "text/javascript",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.test(\"Code is EINVALIDCALL because no address ids were given\", function () {",
													"    pm.expect(jsonData.error.code).to.eql('EINVALIDCALL');",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"ids\": [\n\t]\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_delete}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_delete}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Single with empty address id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b98ded50-bbd1-44c3-99c4-2fec94302266",
												"type": "text/javascript",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.test(\"Code is EINVALIDCALL because an empty address id string was passed\", function () {",
													"    pm.expect(jsonData.error.code).to.eql('EINVALIDCALL');",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"ids\": [\"\"]\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_delete}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_delete}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Multiple with empty address id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ed2a491f-e24a-459c-aed9-5bbc07195f82",
												"type": "text/javascript",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.test(\"Code is EINVALIDCALL because not an empty address was passed, beside valid ones\", function () {",
													"    pm.expect(jsonData.error.code).to.eql('EINVALIDCALL');",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"ids\": [\n\t\t{{defaultAddressId}},\n\t\t\"\"\n\t]\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_delete}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_delete}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Multiple with default address id",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c28b0a68-1b66-467e-8c49-0bd2fe650b2f",
												"type": "text/javascript",
												"exec": [
													"var jsonData = pm.response.json();",
													"pm.test(\"Code is EMAGENTOENDPOINTNOTALLOWED (405) could not delete at least one address.\", function () {",
													"    pm.expect(jsonData.error.code).to.eql('EMAGENTOENDPOINTNOTALLOWED');",
													"});"
												]
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"ids\": [\n\t\t{{defaultAddressId}},\n\t\t{{firstAddressId}}\n\t]\n}"
										},
										"url": {
											"raw": "{{domain}}{{endpoint_user_addresses_delete}}",
											"host": [
												"{{domain}}{{endpoint_user_addresses_delete}}"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c5744c4f-b70f-4252-9e77-b6c032ddd1c2",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e4efa29d-1418-43e6-a7f5-04fb3fd6fb2e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"_postman_isSubFolder": true
						},
						{
							"name": "Delete multiple addresses",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"})",
											"",
											"var jsonData = pm.response.json();",
											"pm.test(\"Addresses deleted and return is success true\", function () {",
											"    pm.expect(jsonData.success).to.be.eq(true);",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"ids\": [\n\t\t{{firstAddressId}},\n\t\t{{secondAddressId}}\n\t]\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_addresses_delete}}",
									"host": [
										"{{domain}}{{endpoint_user_addresses_delete}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check deletion + Cleanup",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e4bc7744-50cc-460e-aa4e-606c87307f67",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Check if addresses were deleted\", function() {",
											"    var addresses = pm.response.json().addresses;",
											"",
											"    const filteredAddresses = addresses.filter(address => address.id === pm.environment.get(\"firstAddressId\") || address.id === pm.environment.get(\"secondAddressId\"));",
											"    pm.expect(filteredAddresses).to.be.empty;",
											"})",
											"",
											"pm.environment.unset(\"firstAddressId\");",
											"pm.environment.unset(\"secondAddressId\");",
											"pm.environment.unset(\"defaultAddressId\");",
											"pm.environment.unset(\"seed\");"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n}"
								},
								"url": {
									"raw": "{{domain}}{{endpoint_user_addresses_get}}",
									"host": [
										"{{domain}}{{endpoint_user_addresses_get}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		}
	],
	"variable": [
		{
			"id": "e9937db9-0f6a-4f8b-9d79-1ace462d7e66",
			"key": "domain",
			"value": "http://localhost:{{port}}",
			"type": "string"
		},
		{
			"id": "3bcd5266-d033-4ae1-9836-325646660851",
			"key": "port",
			"value": "8090",
			"type": "string"
		},
		{
			"id": "9578240c-58ad-40b4-9588-35cf8ad6cdf3",
			"key": "endpoint_user_addresses_get",
			"value": "/trustedPipelines/shopgate.user.getAddresses.v1",
			"type": "string"
		}
	]
}